<!doctype html>
<html>
	<header>
		<title>SvenTracker</title>
		<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
		<script type="text/javascript" src="sventracker.js"></script>
		<style>
			body {
				background: #181818;
				color: #ddd;
				font-family: sans-serif;
				margin: 0;
			}
			.content-container {
				margin: 0 auto;				
				padding: 0;
				overflow-y: scroll;
			}
			h1, h2, h3 {
				text-align: center;
				padding: 0px 0;
				margin: 0;
			}
			.header {
				padding: 20px 0;
			}
			.content {
				text-align: center;
				padding: 0 40px;
				margin: 0 auto;
				max-width: 1450px;
			}
			.content table {
				width: 100%;
				margin: 0 auto;
				margin-bottom: 20px;
				border-collapse: collapse;
				font-family: "Trebuchet MS", Trebuchet, Tahoma, Arial, Helvetica, sans-serif;
				font-size: 12px;
			}
			.content table, .chart-controls {
				max-width: 1200px;
			}
			
			.header-options {
				padding-top: 10px;
			}
			
			a:link {
				color: #6baff8;
			}
			a:visited {
				color: #6d7bc6;
			}
			td, th {
				padding: 5px 10px;
				margin: 0;
			}
			th {
				border-bottom: 1px solid #777;
			}
			.row {
				background-color: #222;
				vertical-align: top;
			}
			.row.odd {
				background-color: #2B394E;
			}
			.server-row.odd:hover {
				cursor: pointer;
				background: #3B495E;
			}
			.server-row:hover {
				cursor: pointer;
				background: #333;
			}
			.row.expanded {
				border-bottom: 0;
			}
			
			.server-content {
				background: none;
				padding: 0;
				border: 0;
			}
			.server-content-row {
				display: none;
				background: #000;
			}
			.server-content-row.expanded {
				display: table-row;
			}
			.server-content-row.expanded td {
				height: 150px;
			}
			.server-content-row svg {
				display: none;
			}
			.server-content-row.expanded svg {
				display: inline-block;
				margin: 10px;
			}
			
			.fixed-controls {
				position: fixed;
				bottom: 0;
				left: 0;
				background: #222;
				width: 100%;
				margin: 0;
			}
			.chart-controls {
				padding: 15px;
				margin: 0 auto;
			}
			.chart-time, .chart-sma {
				padding: 5px 5px;
				background: #222;
				border: 1px solid #333;
			}
			.chart-time:hover, .chart-sma:hover {
				cursor: pointer;
				background: #333;
			}
			.chart-time.active, .chart-sma.active {
				background: #0074d9;
			}
			.time-controls, .sma-controls {
				display: inline-block;
			}
			.time-controls {
				margin-left: 5px;
			}
			.sma-controls {
				float: right;
				margin-right: 10px;
			}
			
			.chart text {
				dominant-baseline: mathematical;
				text-anchor: end;
			}
			
			.hidden {
				display: none;
			}
			.unresponsive {
				color: red;
			}
			td, th {
				text-align: left;
			}
			.name-cell {
				overflow: hidden;
				text-overflow: ellipsis;
				white-space: nowrap;
				min-width: 100px;
			}
			.name-cell a {
				max-width: 400px;
			}
			.rank-cell, .players-cell {
				text-align: right;
			}
			
			.loader {
				position: absolute;
				left: 50%;
				top: 50%;

				color: #ffffff;
				font-size: 16px;
				width: 1em;
				height: 1em;
				border-radius: 50%;
				text-indent: -9999em;
				-webkit-animation: load4 0.5s infinite linear;
				animation: load4 0.5s infinite linear;
				-webkit-transform: translateZ(0);
				-ms-transform: translateZ(0);
				transform: translateZ(0);
			}
			@-webkit-keyframes load4 {
			  0%,
			  100% {
				box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;
			  }
			  12.5% {
				box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;
			  }
			  25% {
				box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;
			  }
			  37.5% {
				box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;
			  }
			  50% {
				box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;
			  }
			  62.5% {
				box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;
			  }
			  75% {
				box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;
			  }
			  87.5% {
				box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;
			  }
			}
			@keyframes load4 {
			  0%,
			  100% {
				box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;
			  }
			  12.5% {
				box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;
			  }
			  25% {
				box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;
			  }
			  37.5% {
				box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;
			  }
			  50% {
				box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;
			  }
			  62.5% {
				box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;
			  }
			  75% {
				box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;
			  }
			  87.5% {
				box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;
			  }
			}
		</style>
	</header>

	<body>
		<div class ="content-container">
			<div class="content">
				<div class="header">
					<h2>Sven Co-op Server Rankings</h2>
					
					<div class="header-options">
						<input type="checkbox" id="filter_listen">
						<label for="filter_listen" title="Listen servers are created by players via the Start Game option. These are usually created temporarily for friends/testing.">Show listen servers</label>
						
						<input type="checkbox" id="filter_offline" checked>
						<label for="filter_offline" title="Show servers that have been offline for less than a week. Servers offline for longer than a week are removed from the ranking list.">Show offline servers</label>
					</div>
				</div>
			
				<table>
					<tbody class="server-table">
					</tbody>
				</table>
				
				<table class="hidden">
					<tbody>
						<tr class="header-row row odd">
							<th title="Rankings are calculated by summing player counts for each minute in the past 2 weeks. Servers with high average player counts but low peaks will generally rank higher than servers that are full every day but only for an hour or so.">Rank</th>
							<th>Server Name</th><th>Players</th><th>IP:Port</th><th>Map</th>
						</tr>
						
						<tr class="server-content-row-template hidden">
							<td class="server-content" colspan="100%">
								<svg class="chart" width="0" height="150" viewBox="0 -150 500 150">
									<g transform="scale(1, -1)">
										<g class="chartg"></g>
									</g>
								</svg>
							</td>
						</tr>
						
						<tr class="row row-template hidden">
							<td class="rank-cell"></td>
							<td class="name-cell"></td>
							<td class="players-cell"></td>
							<td class="addr-cell"></td>
							<td class="map-cell"></td>
						</tr>
					</tbody>
				</table>
				
				<div class="loader site-loader"></div>
			</div>
		</div>
		
		<div class="fixed-controls">
			<div class="chart-controls">
				<div class="time-controls">
					<span class="chart-controls-label" title="How much history to view">Time window:</span>
					<span class="chart-time" minutes="60" title="1 hour time window">1h</span>
					<span class="chart-time" minutes="480" title="4 hour time window">8h</span>
					<span class="chart-time" minutes="1440" title="24 hour time window">24h</span>
					<span class="chart-time" minutes="2880" title="2 day time window">2d</span>
					<span class="chart-time" minutes="5760" title="4 day time window">4d</span>
					<span class="chart-time active" minutes="10080" title="7 day time window">7d</span>
					<span class="chart-time" minutes="20160" title="14 day time window">14d</span>
					<span class="chart-time" minutes="43200" title="30 day time window">30d</span>
					<span class="chart-time" minutes="129600" title="3 month time window">3mo</span>
					<span class="chart-time" minutes="259200" title="6 month time window">6mo</span>
					<span class="chart-time" minutes="518400" title="1 year time window">1yr</span>
					<!--<span class="chart-time" minutes="0" title="View entire stat history">All</span>-->
				</div>
				<!--
				<div class="sma-controls">
					<span class="chart-controls-label" title="Simple moving averages (smooths out the graph)">SMAs:</span>
					<span class="chart-sma active" minutes="Raw" title="Raw datapoints (no averaging)">Raw</span>
					<span class="chart-sma active" minutes="1d" title="1 day moving average">1d</span>
					<span class="chart-sma" minutes="7d" title="7 day moving average">7d</span>
					<span class="chart-sma" minutes="1mo" title="1 month moving average">1mo</span>
					<span class="chart-sma" minutes="6mo" title="6 month moving average">6mo</span>
				</div>
				-->
			</div>
		</div>
	</body>

</html>